<%- include("./partials/head.ejs")%>
    <%- include("./partials/nav.ejs") %>
    <main>
      <article id="article">
        <img src="/images/headpats.jpg" title="Miko giving Mochi headpats" alt="headpats">
        <p>Hello, Miko here. This site is created for myself to hold all the anime pictures I send to my little precious friend, gaming partner, and dessert. I started
        sending pictures since around April 2018 and it has still been ongoing to this day. If you are reading this Melly, I hope you have a nice everyday~</p>
        <br>
        <p> We met in December 18th, 2017 and have been friends for:</p>
        <br>
        <h2 id="time"></h2>
      </article>
    </main>
    <script>
      setInterval( () => {
        let meetingDate = new Date ("December 18, 2017 00:00:00").getTime();
        let todayDate = new Date()
        let duration = todayDate.getTime() - meetingDate;
        let day = duration/1000/60/60/24;
        let year = day/365;
        switch(todayDate.getMonth()) {
          case 2:
          case 4:
          case 6:
          case 7:
          case 9:
            if(todayDate.getDate() >= 18) {
              month = todayDate.getMonth() + 1;
              day = todayDate.getDate() - 18;
            }
            else if(todayDate.getDate() < 18) {
              month = todayDate.getMonth();
              day = todayDate.getDate() + 12;
            }
            break;
          case 11:
            if(todayDate.getDate() >= 18) {
              month = todayDate.getMonth() - 11;
              day = todayDate.getDate() - 18;
            }
            else if(todayDate.getDate() < 18) {
              month = todayDate.getMonth();
              day = todayDate.getDate() + 12;
            }
            break;
          case 3:
          if(todayDate.getDate() >= 18) {
            month = todayDate.getMonth() + 1;
            day = todayDate.getDate() - 18;
          }
          else if(todayDate.getDate() < 18) {
            month = todayDate.getMonth();
            day = todayDate.getDate() + 10;
            if(todayDate.getFullYear() % 4 == 0) {
              day = todayDate.getDate() + 11;
            }
          }
          break;
         case 0:
         case 1:
         case 5:
         case 8:
         case 10:
         if(todayDate.getDate() >= 18) {
           month = todayDate.getMonth() + 1;
           day = todayDate.getDate() - 18;
         }
         else if(todayDate.getDate() < 18) {
           month = todayDate.getMonth();
           day = todayDate.getDate() + 13;
         }
         break;
        }
        let hour = todayDate.getHours();
        let minute = todayDate.getMinutes();
        let second = todayDate.getSeconds();
        document.getElementById("time").innerHTML = `${Math.floor(year)} years, ${Math.floor(month)} months, ${Math.floor(day)} days, <br> ${Math.floor(hour)} hours, ${Math.floor(minute)} minutes, ${Math.floor(second)} seconds`;
      }, 100);
    </script>
  </body>
</html>
